## Chapter 4. Formatting(형식 맞추기)
### 형식을 맞추는 목적
- 코드 형식은 중요하다!
- 오랜 시간이 지나 원래 토드의 흔적을 더 이상 찾아보기 어려울 정도로 코드가 바뀌어도 맨 처음 잡아놓은 구현 스타일과 가독성 수준은 유지보수용이성과 확장성에 계속 영향을 미친다.

### 적절한 행 길이를 유지하라
- 큰 파일보다 작은 파일이 이해하기 쉽다.
#### 신문 기사처럼 작성하라
- 이름은 간단하면서도 설명이 가능하게 짓는다.
- 이르만 보고도 올바른 모듈을 살펴보고 있는지 아닌지를 판단할 정도로 신경써서 짓는다.
- 소스 파일의 첫 부분은 고차원 개념과 알고리즘을 설명하고 아래로 내려갈 수록, 의도를 세세하게 묘사하고, 마지막에는 가장 저차원 함수와 세부 내역이 나온다.
#### 개념은 빈 행으로 분리하라
- 빈 행은 새로운 개념을 시작한다는 시각적 단서다.
```js
public class BoldWidget extends ParentWidget{
  ...
}

public BoldWidget(ParentWidget, parent, String text) throws Exception {
  ...
}
```
#### 세로 밀집도
- 연광성을 의미한다
- 서로 밀접한 코드 행은 세로로 가까이 놓여야 한다.
#### 수직 거리
- 타당한 근거가 없다면 서로 밀접한 개념은 한 파일에 속해야 마땅하다. => protected 변수를 피해야하는 이유 중 하나.
- 같은 파일에 속할 정도로 밀접한 두 개념은 세로 거리로 연관성을 표현한다,
- 연관성은 한 개념을 이해하는 데 다른 개념이 중요한 정도다.
- 연관성이 깊은 두 개념이 멀리 떨어져 있으면 코드를 읽는 사람이 소스 파일과 클래스를 여기저기 뒤지게 된다.
#### 변수 선언
- 변수는 사용하는 위치에 최대한 가까이 선언한다.
- 함수가 짧으면, 지역 변수는 각 함수 맨 처음에 선언한다.
#### 인스턴스 변수
- 클래스 맨 처음에 선언한다.
- 변수 간에 세로로 거리를 두지 않는다.
- 잘 설계한 클래스는 많은(혹은 대다수) 클래스 메서드가 인스턴스 변수를 사용하기때문이다.
- C++에서는 모든 인스턴스 변수를 클래스 마지막에 선언한다는 소위 가위 규칙을 적용한다,
- 자바에서는 보통 클랫 맨 처음에 인스턴스 변수를 모은다는 사실이 중요하다. 변수선언을 어디서 찾을 지 모두가알고 있어야 한다.
#### 종속 함수
- 한 함수가 다른 함수를 호출한다면 두 함수는 세로로 가까이 배치한다.
- 호출하는 함수를 호출 되는 함수보다 먼저 배치한다. => 자연스럽게 읽힌다.
#### 개념적 유사성
- 친화도가 높을수록 코드를 가까이 배치한다.
- 명명법이 똑같고 기본 기능이 유사하고 간단하다.
- 서로가 서로를 호출하는 관계는 부차적인 요인이고, 종속적인 관계가 없더라도 가까이 배치할 함수들이다.
#### 세로 순서
- 함수 호출 종속성은 아래 방향으로 유지한다.

### 가로 형식 맞추기
- 120자 정도로행 길이를 제한한다.
#### 가로 공백화 밀집도
- 가로로느 공백을 사용해 밀접한 개념과 느슨한 개념을 표현한다.
- 할당 연산자를 강조하려고 앞뒤에 공백을 줬다.
- 함수 이름과 이어지는 괄호 사이에는 공백을 넣지 않았다. 함수와 인수는 서로 밀접하기 때문.
- 공백을 넣으면 한 개념이 아니라 별개로 보인다.
- 함수를 호출하는 코드에서 괄호 안 인수는 공백으로 분리했다. 쉼표를 강조해 인수가 별개라는 사실을 보여주기 위해서.
- 연산자 우선순위를 강조하기 위해 공백을 사용.
#### 가로 정렬
- 코드가 엉뚱한 부분을 강조해 진짜 의도가 가려지기 때문
#### 들여쓰기
- 범위(scope)로 이뤄진 계층을 표현하기 위해 코드를 들여쓴다.
- 들여쓰는 정도는 계층에서 코드가 자리잡은 수준에 비례한다.
- 클래스 정의처럼 파일 수준인 문장은 들여쓰지 않는다
- 클래스 내 메서드는 클래스보다 한 수준 들여쓴다.
- 메서드 코드는 메서드 선언보다 한 수준 들여쓴다.
- 블록 코드는 블록을 포함하는 코드보다 한 수준 들여쓴다.
#### 들여쓰기 무시하기
- 간단한 if 문, 짧은 while 문, 짧은 함수에서 무시하고픈 유혹이 있지만, 떨쳐낸다.
#### 가짜 범위
- 빈 while문이나 for문을 접한다.
- 피하지만, 못할 때는, 빈 블록을 올바로 들여쓰고 괄호로 감싼다. 

### 팀 규칙
- 자신이 속한 팀의 규칙
